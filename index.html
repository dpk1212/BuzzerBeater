<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Message Vault</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <h1>The Message Vault <img src="images/vault-icon.png" alt="Vault Icon" class="vault-icon"></h1>
        <p>Unlock Positivity—Brighten Your Day or a Friend’s with The Message Vault</p>
        <p class="privacy-note">Your data stays safe—only stored locally if you save messages.</p>
    </header>

    <nav>
        <button id="generateBtn" class="btn">Generate Message</button>
        <button id="vaultBtn" class="btn">View Vault</button>
        <a href="#premium" class="btn premium-btn">Upgrade to Premium ($5/month)</a>
    </nav>

    <main>
        <section id="message-form" class="active">
            <div class="form-container">
                <h2>Create Your Affirmation <img src="images/vault-icon.png" alt="Lock Icon" class="lock-icon"></h2>
                <form id="messageForm">
                    <div class="form-group">
                        <label for="name">Your Name or Friend’s Name:*</label>
                        <input type="text" id="name" name="name" placeholder="e.g., Sarah or John" required aria-required="true">
                    </div>
                    <div class="form-group">
                        <label for="details">Optional Details:</label>
                        <p class="help-text">e.g., ‘loves hiking’ or ‘feels insecure about public speaking’</p>
                        <div class="optional-details">
                            <select id="predefinedTraits" name="predefinedTraits">
                                <option value="">Select a trait or insecurity (optional)</option>
                                <option value="loves hiking">Loves hiking</option>
                                <option value="loves painting">Loves painting</option>
                                <option value="feels insecure about appearance">Feels insecure about appearance</option>
                                <option value="feels insecure about public speaking">Feels insecure about public speaking</option>
                            </select>
                            <label for="customTraits">Or add your own:</label>
                            <textarea id="customTraits" name="customTraits" placeholder="Describe traits or insecurities here (optional)" aria-label="Custom traits or insecurities"></textarea>
                            <p class="privacy-note-small">Optional and private—never shared or stored unless you save it.</p>
                        </div>
                    </div>
                    <button type="submit" class="btn generate-btn">Generate Message</button>
                </form>
                <div id="messageDisplay" class="message hidden">
                    <p id="generatedMessage"></p>
                    <div id="shareOptions" class="hidden">
                        <button id="copyBtn" class="btn">Copy</button>
                        <button id="emailBtn" class="btn">Email</button>
                        <button id="socialBtn" class="btn">Share on Social Media</button>
                    </div>
                    <button id="generateAnotherBtn" class="btn">Generate Another</button>
                    <button id="saveVaultBtn" class="btn">Save to Vault</button>
                </div>
            </div>
        </section>

        <section id="vault-section" class="hidden">
            <h2>Your Message Vault <img src="images/vault-icon.png" alt="Vault Icon" class="lock-icon"></h2>
            <ul id="vaultList"></ul>
            <button id="backBtn" class="btn">Back to Generator</button>
        </section>

        <section id="premium" class="hidden">
            <h2>Premium Benefits</h2>
            <p>Unlock unlimited messages, daily affirmations, and more for just $5/month!</p>
            <a href="https://stripe.com" target="_blank" class="btn premium-btn">Sign Up for Premium</a>
        </section>
    </main>

    <footer>
        <p>© 2025 The Message Vault | <a href="#privacy" id="privacyLink">Privacy Policy</a></p>
    </footer>

    <!-- Privacy Policy Modal -->
    <dialog id="privacyModal" class="modal">
        <div class="modal-content">
            <h2>Privacy Policy</h2>
            <p>We don’t store names, traits, or insecurities unless you save them in your vault (locally on your device). Premium features may store data with your consent, securely encrypted. Data is used only for generating messages, not shared or sold. For EU users, we comply with GDPR—your data is safe and private.</p>
            <button id="closeModal" class="btn">Close</button>
        </div>
    </dialog>

    <script src="js/app.js"></script>
    <script src="js/message-generator.js"></script>
    <script src="js/vault.js"></script>
</body>
</html>
